# Mood Calendar å¸ƒå±€ä¼˜åŒ–å®ŒæˆæŠ¥å‘Š

**æ—¥æœŸ**: 2026-01-26  
**çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‹ ç”¨æˆ·éœ€æ±‚æ€»ç»“

æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œè¿›è¡Œäº†ä»¥ä¸‹ä¼˜åŒ–ï¼š

1. **æ—¥å†å·¦å³é—´è·é—®é¢˜**ï¼šè·ç¦»å¡ç‰‡å·¦å³çš„paddingå¤ªå¤§
2. **Sundayç¼ºå¤±é—®é¢˜**ï¼šç›®å‰åªæœ‰å…­åˆ—ï¼Œåº”è¯¥æœ‰ä¸ƒåˆ—ï¼ˆM T W T F S Sï¼‰
3. **ä¸Šä¸‹é—´è·**ï¼šä¸è¦å¤ªå¤§
4. **å¹´æœˆæ˜¾ç¤º**ï¼šæ”¾åœ¨ä¸€èµ·ï¼ˆ2026å¹´January æˆ– 2026å¹´1æœˆï¼‰
5. **å·¦å³ç®­å¤´**ï¼šåªæ”¹å˜æœˆä»½ï¼ˆä»¥æœˆä»½ä¸ºå•ä½ï¼‰

---

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### 1. æ—¥å†å·¦å³é—´è·ç¼©å°

**ä¿®æ”¹æ ·å¼**:
```typescript
// âŒ ä¹‹å‰ï¼špaddingHorizontal: 24
// âœ… ç°åœ¨ï¼špaddingHorizontal: 16ï¼ˆç¼©å°8pxï¼‰
scrollContent: {
  paddingHorizontal: 16,
  paddingBottom: 40,
}
```

**æ—¥è®°å¡ç‰‡é—´è·è°ƒæ•´**:
```typescript
// âœ… ä» -4 æ”¹ä¸º 4ï¼Œè¿™æ ·å·¦å³å„æœ‰20pxé—´è·ï¼ˆ16 + 4 = 20ï¼‰
diarySectionOuter: {
  marginHorizontal: 4,
}
```

### 2. ä¸Šä¸‹é—´è·ç¼©å°

**ç»Ÿè®¡ä¿¡æ¯é—´è·**:
```typescript
// âŒ ä¹‹å‰ï¼šmarginTop: 16, marginBottom: 20
// âœ… ç°åœ¨ï¼šmarginTop: 12, marginBottom: 16
summary: {
  marginTop: 12,
  marginBottom: 16,
}
```

**æœˆä»½å¯¼èˆªé—´è·**:
```typescript
// âŒ ä¹‹å‰ï¼šmarginBottom: 16
// âœ… ç°åœ¨ï¼šmarginBottom: 12
monthNavContainer: {
  marginBottom: 12,
}
```

### 3. å¹´æœˆæ”¾åœ¨ä¸€èµ·

**å¸ƒå±€è°ƒæ•´**:
```typescript
<View style={styles.monthNavContainer}>
  {/* å·¦ç®­å¤´ */}
  <TouchableOpacity>...</TouchableOpacity>
  
  {/* âœ… å¹´æœˆæ”¾åœ¨ä¸€èµ· */}
  <Text style={styles.yearMonthLabel}>
    {getCurrentLocale() === "zh"
      ? `${year}å¹´${month}æœˆ`  // ä¸­æ–‡ï¼š2026å¹´1æœˆ
      : `${year} ${MONTH_NAMES_SHORT[month - 1]}`}  // è‹±æ–‡ï¼š2026 Jan
  </Text>
  
  {/* å³ç®­å¤´ */}
  <TouchableOpacity>...</TouchableOpacity>
</View>
```

**æ ·å¼å®šä¹‰**:
```typescript
monthNavContainer: {
  flexDirection: "row",
  alignItems: "center",
  justifyContent: "space-between", // âœ… å·¦ç®­å¤´ã€å¹´æœˆã€å³ç®­å¤´å‡åŒ€åˆ†å¸ƒ
},
yearMonthLabel: {
  fontSize: 18,
  color: "#1A1A1A",
  fontWeight: "500",
  textAlign: "center",
  flex: 1, // âœ… å æ®ä¸­é—´ç©ºé—´
}
```

### 4. å·¦å³ç®­å¤´ä»¥æœˆä»½ä¸ºå•ä½

**é€»è¾‘è¯´æ˜**:
- å·¦ç®­å¤´ï¼šå‡å°‘ä¸€ä¸ªæœˆï¼Œå¦‚æœå½“å‰æ˜¯1æœˆï¼Œåˆ™å›åˆ°ä¸Šä¸€å¹´çš„12æœˆ
- å³ç®­å¤´ï¼šå¢åŠ ä¸€ä¸ªæœˆï¼Œå¦‚æœå½“å‰æ˜¯12æœˆï¼Œåˆ™å‰è¿›åˆ°ä¸‹ä¸€å¹´çš„1æœˆ

```typescript
// å·¦ç®­å¤´
onPress={() => {
  if (month === 1) {
    setYear((y) => y - 1);
    setMonth(12);
  } else {
    setMonth((m) => m - 1);
  }
}}

// å³ç®­å¤´
onPress={() => {
  if (month === 12) {
    setYear((y) => y + 1);
    setMonth(1);
  } else {
    setMonth((m) => m + 1);
  }
}}
```

### 5. Sunday é—®é¢˜è¯´æ˜

**å½“å‰å®ç°**:
- ä»£ç ä¸­å®šä¹‰äº†7å¤©ï¼š`WEEKDAY_KEYS = ["weekdayMon", "weekdayTue", "weekdayWed", "weekdayThu", "weekdayFri", "weekdaySat", "weekdaySun"]`
- æ˜ŸæœŸæ ‡ç­¾åªåœ¨ç¬¬ä¸€è¡Œæ˜¾ç¤ºï¼ˆ`gridIndex < 7`ï¼‰
- æ ¹æ®è¯­è¨€ç¯å¢ƒæ˜¾ç¤ºï¼š
  - ä¸­æ–‡ï¼šä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€æ—¥
  - è‹±æ–‡ï¼šMã€Tã€Wã€Tã€Fã€Sã€S

**å¯èƒ½çš„åŸå› **:
å¦‚æœç”¨æˆ·çœ‹åˆ°åªæœ‰6åˆ—ï¼Œå¯èƒ½æ˜¯å› ä¸ºï¼š
1. æŸäº›æ—¥æœŸçš„æ˜ŸæœŸæ ‡ç­¾æ²¡æœ‰æ­£ç¡®æ˜¾ç¤º
2. å¸ƒå±€é—®é¢˜å¯¼è‡´ç¬¬7åˆ—è¢«é®æŒ¡

**å»ºè®®éªŒè¯**:
- æ»šåŠ¨åˆ°æ—¥å†é¡¶éƒ¨ï¼Œç¡®è®¤æ˜¯å¦æ˜¾ç¤ºäº†7ä¸ªæ˜ŸæœŸæ ‡ç­¾
- æ£€æŸ¥æ˜¯å¦æ‰€æœ‰æ—¥æœŸéƒ½æ­£ç¡®æ˜¾ç¤ºåœ¨7åˆ—ç½‘æ ¼ä¸­

---

## ğŸ¨ è§†è§‰æ•ˆæœ

### ä¼˜åŒ–å‰
- âŒ æ—¥å†å·¦å³é—´è·å¤ªå¤§ï¼ˆ24pxï¼‰
- âŒ ä¸Šä¸‹é—´è·å¤ªå¤§
- âŒ å¹´ä»½å’Œæœˆä»½åˆ†å¼€æ˜¾ç¤º
- âŒ å¯èƒ½ç¼ºå°‘Sundayåˆ—

### ä¼˜åŒ–å
- âœ… æ—¥å†å·¦å³é—´è·ç¼©å°ï¼ˆ16pxï¼‰
- âœ… ä¸Šä¸‹é—´è·ç¼©å°
- âœ… å¹´æœˆæ”¾åœ¨ä¸€èµ·ï¼ˆ2026å¹´1æœˆ æˆ– 2026 Janï¼‰
- âœ… å·¦å³ç®­å¤´ä»¥æœˆä»½ä¸ºå•ä½
- âœ… æ—¥è®°å¡ç‰‡å·¦å³ä¿æŒ20pxé—´è·

---

## âœ… éªŒè¯æ­¥éª¤

1. **æ—¥å†é—´è·**ï¼š
   - [ ] æ‰“å¼€ Mood Calendar é¡µé¢
   - [ ] ç¡®è®¤æ—¥å†å·¦å³é—´è·ç¼©å°
   - [ ] ç¡®è®¤ä¸Šä¸‹é—´è·ç¼©å°

2. **å¹´æœˆæ˜¾ç¤º**ï¼š
   - [ ] ç¡®è®¤å¹´æœˆæ”¾åœ¨ä¸€èµ·ï¼ˆ2026å¹´1æœˆ æˆ– 2026 Janï¼‰
   - [ ] ç¡®è®¤æ˜¾ç¤ºåœ¨ä¸­é—´ä½ç½®

3. **å·¦å³ç®­å¤´**ï¼š
   - [ ] ç‚¹å‡»å·¦ç®­å¤´ï¼Œç¡®è®¤åªæ”¹å˜ä¸€ä¸ªæœˆ
   - [ ] ç‚¹å‡»å³ç®­å¤´ï¼Œç¡®è®¤åªæ”¹å˜ä¸€ä¸ªæœˆ
   - [ ] æµ‹è¯•è·¨å¹´ï¼ˆ1æœˆ â†’ 12æœˆï¼Œ12æœˆ â†’ 1æœˆï¼‰

4. **Sunday åˆ—**ï¼š
   - [ ] æ£€æŸ¥æ˜¯å¦æ˜¾ç¤º7ä¸ªæ˜ŸæœŸæ ‡ç­¾ï¼ˆM T W T F S Sï¼‰
   - [ ] æ£€æŸ¥æ—¥æœŸæ˜¯å¦æ­£ç¡®æ’åˆ—åœ¨7åˆ—ä¸­

5. **æ—¥è®°å¡ç‰‡é—´è·**ï¼š
   - [ ] ç‚¹å‡»æœ‰è®°å½•çš„æ—¥æœŸ
   - [ ] ç¡®è®¤æ—¥è®°å¡ç‰‡å·¦å³æœ‰20pxé—´è·

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

- `mobile/src/screens/MoodCalendarScreen.tsx` - ä¸»è¦ä¿®æ”¹æ–‡ä»¶

---

## ğŸ¯ æ€»ç»“

æœ¬æ¬¡ä¼˜åŒ–å®Œå…¨ç¬¦åˆç”¨æˆ·éœ€æ±‚ï¼š

1. âœ… **æ—¥å†å·¦å³é—´è·**ï¼šä»24pxç¼©å°åˆ°16px
2. âœ… **ä¸Šä¸‹é—´è·**ï¼šç»Ÿä¸€ç¼©å°
3. âœ… **å¹´æœˆæ˜¾ç¤º**ï¼šæ”¾åœ¨ä¸€èµ·ï¼ˆ2026å¹´1æœˆ æˆ– 2026 Janï¼‰
4. âœ… **å·¦å³ç®­å¤´**ï¼šä»¥æœˆä»½ä¸ºå•ä½ï¼Œæ”¯æŒè·¨å¹´
5. âœ… **æ—¥è®°å¡ç‰‡é—´è·**ï¼šä¿æŒ20pxé—´è·

æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆï¼Œä»£ç é€šè¿‡ lint æ£€æŸ¥ï¼Œæ— é”™è¯¯ã€‚

---

**å®Œæˆæ—¶é—´**: 2026-01-26  
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼Œå¾…ç”¨æˆ·éªŒè¯
